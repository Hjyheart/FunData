<!DOCTYPE html>
<html>
<head>
    <title><%= title %></title>
    <meta charset="UTF-8">
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="/sematic/semantic.min.css"/>
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <!--<script src="/jquery.js" crossorigin="anonymous"></script>-->
    <script src="https://code.jquery.com/jquery-1.12.4.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.0-rc.2/angular.min.js"
            crossorigin="anonymous"></script>
    <!-- Latest compiled and minified JavaScript -->

    <script src="/sematic/semantic.min.js" crossorigin="anonymous"></script>
    <script src="/floatingNav.js"></script>
    <script src="/ng-pagination/dist/directive.pagination.js"></script>
    <script src="/controllers/app.js"></script>
    <script src="/controllers/mycenter/myProfileCtrl.js"></script>
    <script src="/services/const.service.js"></script>
    <script src="/controllers/mycenter/myProfileCtrl.js"></script>

</head>
<body class="pushable" ng-app="myApp" ng-controller="myProfileCtrl">

<% include ../nav/navbar-floating.ejs%>

<div class="pusher">
    <div class="ui inverted vertical masthead center aligned segment">
        <% include ../nav/navbar-personal.ejs %>

        <div class="ui text container">
            <br><br>
            <h1 class="ui inverted header">
                Hello
            </h1>

            <h2><%= userName %></h2>
           <br>
            <i class="down arrow icon"></i>
        </div>
    </div>

    <div class="ui vertical stripe segment">
        <div class="ui aligned stackable grid container">
            <div class="row">
                <!--头像卡片-->
                <div class="six wide column">
                    <% include profile-basicinformation.ejs%>
                </div>
                <!--右侧信息-->
                <div class="ten wide right floated column">
                    <br>
                    <br>
                    <h2 class="ui header">
                        <i class="user icon"></i>
                        <div class="content">My Basic Information </div>
                    </h2>
                    <br>
                    <div class="ui styled fluid accordion" id="accordion">
                        <div class="title"><i class="dropdown icon"></i> My DataSet </div>
                        <div class="content">
                            <!--把我的数据集打表打出来-->
                            <% include profile-mydataset.ejs%>
                        </div>
                        <div class="title"><i class="dropdown icon"></i> My Competition </div>
                        <div class="content">
                           <!--把我的竞赛打表打出来-->
                            <% include profile-mycompetition.ejs %>
                        </div>
                        <div class="title"><i class="dropdown icon"></i> My Mooc </div>
                        <div class="content">
                            <!--把我的课打表打出来-->
                            <% include profile-mymooc.ejs %>
                        </div>
                        <div class="title active"><i class="dropdown icon"></i> My Add </div>
                        <div class="content active">
                            <div class="vertical fluid ui buttons">
                                <button class="basic ui button" onclick="createDataset()">Add Dataset</button>
                                <button class="basic ui button" ng-click="createCompetition()">Add Competition</button>
                                <button class="basic ui button" ng-click="createMooc()">Add Mooc</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <% include ../footer.ejs %>
</div>

<% include profile-popupwindow.ejs %>

</body>

<script>
    $("#start-time").datepicker();
    $("#end-time").datepicker();

    var datasetName;
    var competitionName;
    var moocName;

    function datasetToDetail(name) {
        window.location.href = "/dataset/" + name + "/detail";
    };

    function datasetToManage(name) {
        window.location.href = "/dataset/" + name + "/" + name + "/manage";
    };

    function datasetShowWarning(datasetName){
        name = datasetName;
        $('#confirmDeleteDataset').modal('show');
    };

    function comToDetail(comId) {
        window.location.href = "/competition/" + comId + "/" + comId + "/detail";
    };

    function comToManage(comId) {
        window.location.href = "/competition/" + comId + "/" + comId + "/manage";
    };

    function comShowWarning(comId) {
        $('#confirmDeleteCompetition').modal('show');
    };

    function showEdit() {
        $('#edit').modal('show');
    };

    function editProfile() {
        // 在这里写ajax提交修改信息然后修改前端

    };
    
    function changeImg() {
        $('#newImage').modal('show');
    };
    
    function createDataset() {
        $('#createDataset').modal('show');
    };

</script>
</html>
